# 교착상태 (Deadlock)

- 교착상태의 개념
- 교착상태의 특성
- 교착상태 예방

## 교착상태의 개념

### 프로세스의 공유 자원 사용 절차

1. 요구 : 공유자원 사용 요구
    - **이미 사용중인 자원이면 획득할 때까지 대기**
2. 사용 : 공유자원 점유, 사용
3. 해제, 반납 : 공유자원 사용 완료 (다른 프로세스가 사용 가능)

교착상태란, 여러 프로세스가 서로 상대방의 작업이 끝나기만을 기다리고 있어서 영원히 진행될 수 없는 상태이다.  
ex. 형제 <sup>프로세스</sup>가 서로가 입고있는 바지 <sup>공유자원</sup>를 원해서 외출을 못하는 상황

### 교착상태 vs 기아상태 <sup>Starvation</sup>

- 기아 상태 : 프로세스의 우선순위가 늦어져 계속해서 자원을 할당받지 못하는 상태
    - 프로세스의 우선순위를 조정하여 해결 가능

## 교착상태의 특성

### 교착상태의 필요 조건

다음 네가지가 모두 만족 (and) 할 때 교착상태 발생 가능

- 상호배제
- 점유대기
- 비선점
- 환형대기

### 상호배제 <sup>Mutual Exclusion</sup>

- 프로세스가 자원의 배타적인 통제권 요구
- 요구시점에 다른 프로세스가 점유한 자원이면 반드시 대기 (포기 안함)

### 점유대기 <sup>Hold and Wait</sup>

- 프로세스가 하나의 자원을 점유한 상황에서,
- 다른 프로세스가 점유한 자원을 요구

### 비선점 <sup>No Preemption</sup>

- 자원을 뻇을 수 없음 (타의에 의해 점유 해제 불가능)
- 점유한 자원의 해제는 점유한 프로세스가 사용을 마치고 스스로 반환해야함

### 환형대기 <sup>Circular Wait</sup>

- 프로세스의 점유 관계가 환형을 이루며 대기하는 상황
- 프로세스 1 :  자원 1 점유 and 자원 2 요구
- 프로세스 2 :  자원 2 점유 and 자원 1 요구
