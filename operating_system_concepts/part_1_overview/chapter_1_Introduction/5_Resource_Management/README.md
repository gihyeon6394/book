# 5. Resource Management

1. [process Management](#1-process-management)
2. Memory Management
3. File-System Management
4. Mass-Storage Management
5. Cache Management
6. I/O System Management

OS는 아래와 같은 리소스의 관리자이다.  
리소스는 CPU, 메모리, I/O 장치, 파일, 캐시, 저장장치 등이 있다.

## 1. Process Management

### prcoess : program in execution

- CPU에 실행되지 않으면 프로그램은 어떤 명령도 실행할 수 없음
- 프로세스 : 실행 상태의 프로그램
    - ex. 컴파일러, 워드 프로세스, SNS 앱
- 프로세스가 서브 프로세스를 동시에 실행 가능
- 프로세스는 실행 중 특정 리소스가 필요
- 실행 중인 프로세스에게 리소스를 할당
    - 리소스는 시스템 자원 뿐 아니라, 데이터 입력일 수도 있음
        - ex. 웹 브라우저 프로세스의 URL input
- 사용자 프로세스, 시스템 프로세스로 나뉨

### Program Counter <sup>PC</sup>

- program counter : 다음 실행할 명령을 가리킴
- 싱글 스레드 프로세스
    - 하나의 PC를 가짐
    - 명령 실행이 순차적
    - 프로세스 안에서 동시에 최대 하나의 명령 실행 가능
    - 하나의 프로그램에 2가지의 프로세스가 연관되어 있어도 별개로 간주, 동시 실행 불가
- 멀티 스레드 프로세스
    - 2개 이상의 PC
    - 각 PC가 각 스레드에 위치하여 다음 실행 명령 줄을 가리킴
- 프로세스 동시 실행
    - 싱글 코어 : 다중화
    - 멀티 코어 : 병렬화

### process 에 대한 OS의 책임

- 사용자/시스템 프로세스를 생성, 제거
- 프로세스와 스레드를 CPU에 스케쥴링
- 프로세스의 실행 / 중지
- 프로세스 동기화 메커니즘 제공
- 프로세스 간 통신 메커니즘 제공

## 2. Memory Management

### main memory

- 컴퓨터 시스템 명령의 중심
- 아주 큰 바이트 배열
- 각 바이트에는 고유 주소 있음
- CPU와 I/O 장치가 공유한 데이터를 저장, 빠르게 접근
- CPUI가 직접 주소를 지정하고 접근할 수 있는 유일한 대형 저장 장치
    - disk에 있는 데이터를 읽을 떄에도 메인 메모리에 로딩 후 읽음
    - 명령을 실행하기 위해서는 명령을 먼저 메모리에 로딩
- von Neumann 아키텍쳐
    - 메모리에서 명령을 읽고
    - 데이터를 메모리에 읽고 씀
- 프로그램 실행
    1. 절대 주소에 매핑되어 메모리에 로딩
    2. 프로그램이 실행되면 메모리의 주소를 통해 명령, 데이터에 접근
    3. 프로그램이 종료되면 해당 메모리 공간이 사용 가능상태로 선언되어 다른 프로그램 로딩 및 실행 가능

### 메모리 관리 필요성

- 여러 프로그램을 메모리에 유지해야함
- 다양한 방식 <sup>알고리즘</sup>의 메모리 관리 존재
- 시스템의 하드웨어 설계 고려

### memory 에 대한 프로세스의 책임

- 현재 사용중인 메모리 파트, 해당 파트를 사용하는 프로그램 추적
- 메모리 할당과 제거
- 어떤 프로세스를 메모리에 로딩하고 내릴지 결정

## 3. File-System Management

- oS는 파일 정보에 대한 논리적이고 통일된 뷰 제공
- 저장장치의 물리적인 정보를 논리적인 단위로 추상화
- 사용자는 여러 저장장치에 파일 저장 가능
- OS는 파일에 대한 디렉토리를 제공하여 사용성을 높임
- 사용자가 파일 사용시, 접근, 권한, read, write 등의 편의성 제공

### File-System 에 대한 프로세스의 책임

- 파일 생성, 삭제
- 파일을 디렉토리로 구성, 삭제
- 파일 <sup>디렉토리</sup>의 기본 조작 기능 지원
- 대용량 저장장치에 파일 매핑
- 안정적인 비활성 스토리지에 파일 백업

## 4. Mass-Storage Management

### secondary storage

- 대용량 저장장치, 메인 메모리의 백업
- ex. HDD, Nonvolatile memory <sup>NVM</sup>, ...
- 대부분의 프로그램은 메인 메모리에 데이터를 로딩하기 전에 2차 저장장치에 저장
- OS의 성능은 대부분 2차 저장소의 속도에 의존

### secondary storage 에 대한 프로세스의 책임

- 마운트, 언마운트
- 빈 공간 관리
- 저장 공간 할당
- 디스크 스케쥴링
- 파티셔닝
- 보호

### Tertiary storage <sup>제 3의 저장 장치</sup>

- 2차 저장소보다 비용이 낮고, 속도가 느림
- ex. 백업 디스크, 아카이빙 스토리지, bluray, ...

## 5. Cache Management

## 6. I/O System Management
